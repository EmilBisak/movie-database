(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/cinema.dc7320d7.png"},19:function(e,t,a){e.exports=a(39)},24:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(14),r=a.n(i),l=a(41),c=(a(24),a(3)),s=a(4),m=a(6),u=a(5),v=a(7),d=(a(26),a(28),a(15)),p=a.n(d),h=a(40),f=(a(30),{color:"#fff",textDecoration:"none"}),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={password:""},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"App-header"},o.a.createElement("nav",null,o.a.createElement("input",{type:"text",placeholder:"Login"}),o.a.createElement("span",null,o.a.createElement(h.a,{to:"/",style:f},"Po\u010detna"),o.a.createElement(h.a,{to:"/addMovie",style:f},"Dodaj film"))),o.a.createElement("div",null,o.a.createElement(h.a,{to:"/"},o.a.createElement("img",{className:"App-logo",src:p.a,alt:"logo"})," ",o.a.createElement("h1",null,"Baza filmova"))))}}]),t}(n.Component),b=a(43),g=a(42),j=(a(34),"https://baza-filmova.herokuapp.com/obrisi-film/"),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).deleteMovie=function(e){e.preventDefault();var t=a.props.podaci,n=t.naziv,o=t._id;window.confirm('Delete movie: "'.concat(n,'" ?'))&&fetch(j,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:o})}).then(function(e){return e.text()}).then(function(e){alert(e),window.location.replace("http://localhost:3000")})},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.podaci,t=e.naziv,a=e.godina,n=e.slika;return o.a.createElement("div",null,o.a.createElement("h3",null,t),o.a.createElement("div",{className:"image-holder"},o.a.createElement("span",{onClick:this.deleteMovie,className:"delete-btn"},"X"),o.a.createElement("img",{src:n,alt:t,className:"movieImg"})),o.a.createElement("p",null,a))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={filmovi:[],filtered:[],isLoaded:!1,sortMoviesVisible:!1},a.toogleSortMovies=function(){a.setState({sortMoviesVisible:!a.state.sortMoviesVisible})},a.sortByAtoZAsc=function(){var e=a.state.filmovi.sort(function(e,t){var a=e.naziv.toLowerCase(),n=t.naziv.toLowerCase();return a<n?-1:n<a?1:0});a.setState({filtered:e})},a.sortByAtoZADec=function(){var e=a.state.filmovi.sort(function(e,t){var a=e.naziv.toLowerCase(),n=t.naziv.toLowerCase();return a>n?-1:n>a?1:0});a.setState({filtered:e})},a.sortByYearFromNewest=function(){var e=a.state.filmovi.sort(function(e,t){return t.godina-e.godina});a.setState({filtered:e})},a.sortByYearFromOldest=function(){var e=a.state.filmovi.sort(function(e,t){return e.godina-t.godina});a.setState({filtered:e})},a.searchMovies=function(e){var t=e.target.value,n=a.state.filmovi.filter(function(e){return e.naziv.toLowerCase().indexOf(t.toLowerCase())>-1});a.setState({filtered:n})},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://baza-filmova.herokuapp.com/filmovi/").then(function(e){return e.json()}).then(function(t){return e.setState({filmovi:t,filtered:t,isLoaded:!0})})}},{key:"render",value:function(){var e=this.state.filtered.map(function(e){var t=e.naziv,a=e.godina,n=e.slika,i=e._id,r=e.comments;return o.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3",key:i},o.a.createElement("div",{className:"movieBox"},o.a.createElement(h.a,{to:{pathname:"singleMovie/".concat(i),state:{naziv:t,godina:a,slika:n,_id:i,comments:r}}},o.a.createElement(y,{podaci:{naziv:t,godina:a,slika:n,_id:i,comments:r}}))))});return o.a.createElement("div",null,o.a.createElement("input",{type:"text",placeholder:"Pretra\u017ei filmove",className:"search-movie",onChange:this.searchMovies}),o.a.createElement("div",{className:"sortMovies",style:this.state.sortMoviesVisible?{display:"block"}:{display:"none"}},o.a.createElement("ul",{className:"clearfix"},o.a.createElement("li",{onClick:this.sortByAtoZAsc},o.a.createElement("span",null,"A - Z")),o.a.createElement("li",{onClick:this.sortByAtoZADec},o.a.createElement("span",null,"Z - A")),o.a.createElement("li",{onClick:this.sortByYearFromNewest},o.a.createElement("span",null,"Najnoviji")),o.a.createElement("li",{onClick:this.sortByYearFromOldest},o.a.createElement("span",null,"Najstariji")))),o.a.createElement("input",{id:"sortMoviesBtn",type:"submit",onClick:this.toogleSortMovies,value:this.state.sortMoviesVisible?"Sakrij meni":"Sortiraj filmove"}),this.state.isLoaded?o.a.createElement("div",{className:"container-fluid moviesHolder"},o.a.createElement("div",{className:"row"},e)):o.a.createElement("img",{src:"https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif",alt:"Loading"}))}}]),t}(n.Component),k=a(16),w=(a(36),function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;fetch("https://baza-podataka.herokuapp.com/dodaj-film/",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({naziv:e,godina:t,slika:a,comments:n})}).then(function(t){alert('Movie " '.concat(e.toUpperCase(),'" has been updated to movie base.\n        Thank you for updating!')),window.location.reload()}).catch(function(e){return console.log(e)})}),C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={movieName:"",movieImg:"",movieYear:"",visible:!1},a.handleInput=function(e){var t=e.target,n=t.value,o=t.name;a.setState(Object(k.a)({},o,n))},a.addMovie=function(e){e.preventDefault();var t=a.state,n=t.movieName,o=t.movieImg,i=t.movieYear;w(n,i,o)},a.imagePreview=function(e){var t=e.target.value;a.setState({movieImg:t})},a.eventHandler=function(e){a.handleInput(e),a.imagePreview(e)},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.movieImg?this.state.movieImg:"http://icons-for-free.com/free-icons/png/512/283043.png";return o.a.createElement("div",{className:"newMovie"},o.a.createElement("h1",null,"Dodaj Film"),o.a.createElement("form",{method:"post",onSubmit:this.addMovie},o.a.createElement("label",null,"Naziv Filma"),o.a.createElement("input",{type:"text",name:"movieName",onChange:this.handleInput,placeholder:"Dodaj naslov",required:!0}),o.a.createElement("label",null,"Godina"),o.a.createElement("input",{type:"text",name:"movieYear",onChange:this.handleInput,placeholder:"Dodaj godinu",required:!0}),o.a.createElement("label",null,"Slika"),o.a.createElement("input",{type:"text",name:"movieImg",onChange:this.eventHandler,placeholder:"Dodaj url slike",required:!0}),o.a.createElement("div",{className:"imagePlaceholder"},o.a.createElement("img",{src:e,alt:"movieImg"})),o.a.createElement("input",{type:"submit",value:"Dodaj"})))}}]),t}(n.Component),N=a(18),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},a.handleSubmit=function(e){e.preventDefault();var t=a.props.location.state,n=t.naziv,o=t.godina,i=t.slika,r=t.comments,l={user:e.target.name.value,comment:e.target.comment.value},c=r?Object(N.a)(r).concat([l]):[l];w(n,o,i,c)},a}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;try{e=this.props.location.state.comments.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("small",null,e.user),o.a.createElement("p",null,e.comment))})}catch(t){e=o.a.createElement("p",null,"Budite prvi koji \u0107e ostaviti komentar")}return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{to:"/"},"< Back"),o.a.createElement(y,{podaci:this.props.location.state}),o.a.createElement("p",null,this.state.comm),e,o.a.createElement("form",{onSubmit:this.handleSubmit,className:"single-movie-form"},o.a.createElement("label",null,"Korisnik: "),o.a.createElement("br",null),o.a.createElement("input",{name:"name"}),o.a.createElement("br",null),o.a.createElement("label",null,"Komentar: "),o.a.createElement("br",null),o.a.createElement("textarea",{name:"comment"}),o.a.createElement("input",{type:"submit",value:"Po\u0161alji"})))}}]),t}(n.Component),S=function(){return o.a.createElement("main",null,o.a.createElement(b.a,null,o.a.createElement(g.a,{exact:!0,path:"/",component:O}),o.a.createElement(g.a,{path:"/addMovie",component:C}),o.a.createElement(g.a,{path:"/singlemovie/:id",component:M})))},A=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",null,o.a.createElement("small",null,"Copyright \xa9 Emil 2018"))}}]),t}(n.Component),z=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(E,{ime:"Emil"}),o.a.createElement(S,null),o.a.createElement(A,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(l.a,null,o.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.68ed6465.chunk.js.map